#!/bin/sh

ifs_=$IFS
out_=$HOME/.yawm/bin

printf "" > $out_
IFS=':'
for dir in $PATH; do
	ls -1 $dir | while read line; do
		printf "$line\t$dir\n" >> $out_
	done
done

IFS='	'
menu -n yawm-apps -i -a -f $out_ | while read cmd path extra; do
	if [ -z "$extra" ]; then
		exec $cmd &
	else
		IFS=' '
		exec $extra &
	fi

	break
done
